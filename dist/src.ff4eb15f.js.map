{"version":3,"sources":["config.json","helpers/index.ts","modules/Vec2D.ts","modules/Background.ts","modules/GameObject.ts","modules/Bullet.ts","modules/Player.ts","modules/Screen.ts","modules/Enemy.ts","modules/FontRenderer.ts","images/font.json","images/spritesheet.json","images/tileset.json","modules/Sprite.ts","modules/Level.ts","modules/AssetLoader.ts","modules/Game.ts","index.ts"],"names":["module","exports","width","height","title","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","player","enemy"],"mappings":"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AG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9F,CAAC,EAAG,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","file":"src.ff4eb15f.js","sourceRoot":"../src","sourcesContent":["module.exports={width:255,height:240,title:\"SpaceShooter\"};","import config from '../config.json'\n\nconst screen = {\n  size: {\n    x: config.width,\n    y: config.height\n  }\n}\n\nexport function checkBoundsCollide(obj, boundBox = screen) {\n  return (\n    obj.pos.x >= 0 && obj.pos.x <= boundBox.size.x && obj.pos.y >= 0 && obj.pos.y <= boundBox.size.y\n  )\n}\n\n// export const assets = {\n//   toLoad: 0,\n//   loaded: 0,\n//   imageExtensions: ['png'],\n//   jsonExtensions: ['json'],\n//   audioExtensions: ['mp3', 'ogg', 'wav'],\n\n//   load(sources) {\n//     return new Promise((resolve) => {\n//       let loadHandler = () => {\n//         this.loaded += 1\n//         console.log(this.loaded)\n\n//         if (this.loLoad === this.loaded) {\n//           this.loaded = 0\n//           this.toLoad = 0\n//           console.log('Assets finished loading.')\n\n//           resolve()\n//         }\n//       }\n\n//       console.log('Loading assets...')\n//       this.toLoad = sources.length\n\n//       sources.forEach((source: string) => {\n//         let extension = source.split('.').pop()\n\n//         if (this.imageExtensions.indexOf(extension) !== -1) {\n//           this.loadImage(source, loadHandler)\n//         } else if (this.jsonExtensions.indexOf(extension) !== -1) {\n//           this.loadJson(source, loadHandler)\n//         } else if (this.audioExtensions.indexOf(extension) !== -1) {\n//           this.loadAudio(source, loadHandler)\n//         } else {\n//           console.log(`File type: ${source} is not valid.`)\n//         }\n//       })\n//     })\n//   },\n//   loadImage(source, loadHandler) {\n//     let image = new Image()\n//     image.addEventListener('load', loadHandler, false)\n\n//     this[source] = image\n//     image.src = source\n//   },\n//   async loadJson(source, loadHandler) {\n//     const response = await fetch(new Response(source))\n\n//     const data = await response.text()\n\n//     console.log(data, source)\n//   }\n// }\n","export class Vec2D {\n  constructor(public x: number, public y: number) {}\n\n  set(x, y) {\n    this.x = x\n    this.y = y\n  }\n\n  get() {\n    return {\n      x: this.x,\n      y: this.y\n    }\n  }\n}\n","import { checkBoundsCollide } from '../helpers'\nimport { Vec2D } from './Vec2D'\n\nclass Star {\n  public active: boolean\n  vel: Vec2D\n  color: string\n\n  constructor(public pos: Vec2D, public speed: number = 1, public size) {\n    this.active = true\n    this.vel = new Vec2D(0, 0)\n    this.color = `rgba(255, 255, 255, ${this.speed / 2})`\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color\n    const circle = new Path2D()\n    circle.arc(this.pos.x, this.pos.y, this.size.x, 0, 2 * Math.PI)\n\n    ctx.fill(circle)\n  }\n\n  update(vel) {\n    this.pos.y += vel.y * this.speed\n    this.pos.x += vel.x * this.speed\n    this.active = this.active && checkBoundsCollide(this)\n  }\n}\n\nexport default class Background {\n  color: string\n  stars: any[]\n  vel: Vec2D\n  constructor() {\n    this.color = 'black'\n    this.stars = []\n    this.vel = new Vec2D(0, 0)\n  }\n\n  drawStars(ctx) {\n    const random = Math.floor(Math.random() * Math.floor(10))\n    const speed = random\n    const size = new Vec2D(2 / speed, 5 / speed)\n\n    if (this.stars.length < 50 && Math.round(Math.random() * 5) === 1) {\n      let position = new Vec2D(0, 0)\n\n      // Camera move down\n      if ((this.vel.y = -1)) {\n        position = new Vec2D(\n          Math.floor(Math.random() * ctx.canvas.width),\n          ctx.canvas.height\n        )\n      }\n      if ((this.vel.y = 1)) {\n        position = new Vec2D(Math.floor(Math.random() * ctx.canvas.width), 0)\n      }\n\n      this.stars.push(new Star(position, speed, size))\n    }\n  }\n\n  stop(d) {\n    this.vel[d] = 0\n  }\n\n  draw(ctx) {\n    // ctx.fillStyle = this.color\n    // ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n\n    this.drawStars(ctx)\n    this.stars.map((star) => {\n      star.draw(ctx)\n    })\n  }\n\n  update() {\n    this.stars.map((star) => {\n      star.update(this.vel)\n    })\n\n    this.stars = this.stars.filter((star) => star.active)\n  }\n}\n","import { SpriteProps } from '../types'\nimport { Sprite } from './Sprite'\nimport { Vec2D } from './Vec2D'\n\nexport default class GameObject {\n  active: boolean\n  canvas: HTMLCanvasElement\n  image: HTMLImageElement\n  vel: Vec2D\n\n  constructor(\n    public ctx: CanvasRenderingContext2D,\n    public pos: Vec2D,\n    public sprite: Sprite,\n    public size: Vec2D = new Vec2D(16, 16)\n  ) {\n    this.canvas = ctx.canvas\n    this.image = new Image()\n    this.pos = new Vec2D(pos.x, pos.y)\n    this.active = true\n  }\n\n  isBounds() {\n    return (\n      this.pos.x >= 0 &&\n      this.pos.x <= this.canvas.width &&\n      this.pos.y >= 0 &&\n      this.pos.y <= this.canvas.height\n    )\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.sprite, this.pos.x, this.pos.y)\n  }\n\n  explode() {\n    this.active = false\n  }\n\n  update() {\n    this.pos.x += this.vel.x\n    this.pos.y += this.vel.y / 2\n  }\n}\n","import { Vec2D } from './Vec2D'\n\nexport default class Bullet {\n  public active: boolean\n  pos: Vec2D\n  size: Vec2D\n  vel: Vec2D\n\n  constructor(x, y) {\n    this.active = true\n    this.pos = new Vec2D(x, y)\n    this.size = new Vec2D(1, 3)\n    this.vel = new Vec2D(0, -5)\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = 'orange'\n    ctx.fillRect(this.pos.x, this.pos.y, this.size.x, this.size.y + 3)\n  }\n\n  update() {\n    this.pos.x += this.vel.x\n    this.pos.y += this.vel.y\n  }\n}\n","import GameObject from './GameObject'\nimport Bullet from './Bullet'\nimport { Vec2D } from './Vec2D'\nimport { SpriteProps } from '../types'\nimport { Sprite } from './Sprite'\n\nclass Player extends GameObject {\n  color: string\n  width: number\n  height: number\n  active: boolean\n  playerBullets: any[]\n  vel: Vec2D\n\n  constructor(\n    public ctx: CanvasRenderingContext2D,\n    public pos: Vec2D = new Vec2D(0, 0),\n    public sprite: Sprite,\n    public speed: number = 2\n  ) {\n    super(ctx, pos, sprite, new Vec2D(16, 16))\n    this.active = true\n    this.playerBullets = []\n    this.vel = new Vec2D(0, 0)\n  }\n\n  // Bullet starts in the center of the player\n  moveToMidpoint() {\n    return {\n      x: this.pos.x + 2,\n      y: this.pos.y\n    }\n  }\n\n  moveUp() {\n    this.vel.set(this.vel.x, -1)\n  }\n  moveRight() {\n    this.vel.set(1, this.vel.y)\n  }\n\n  moveDown() {\n    this.vel.set(this.vel.x, 1)\n  }\n  moveLeft() {\n    this.vel.set(-1, this.vel.y)\n  }\n\n  stop(d) {\n    this.vel[d] = 0\n  }\n\n  shoot() {\n    let bulletPosition = this.moveToMidpoint()\n\n    this.playerBullets.push(new Bullet(bulletPosition.x, bulletPosition.y))\n    this.playerBullets.push(new Bullet(bulletPosition.x + 11, bulletPosition.y))\n  }\n\n  explode() {\n    this.active = false\n  }\n\n  update() {\n    this.pos.set(\n      this.pos.x + this.vel.x * this.speed,\n      this.pos.y + this.vel.y * this.speed\n    )\n  }\n}\n\nexport default Player\n","import { ScreenProps, SizeProps } from '../types'\nimport { Vec2D } from './Vec2D'\n\nexport default class Screen implements ScreenProps {\n  canvas: HTMLCanvasElement\n  ctx: CanvasRenderingContext2D\n\n  constructor(public size: Vec2D = new Vec2D(255, 240)) {\n    this.canvas = document.createElement('canvas')\n    this.ctx = this.canvas.getContext('2d')\n    this.canvas.width = this.size.x\n    this.canvas.height = this.size.y\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.size.x, this.size.y)\n  }\n\n  mount() {\n    const container: HTMLDivElement = document.createElement('div')\n    container.setAttribute('id', 'screen')\n    container.append(this.canvas)\n    document.body.append(container)\n  }\n}\n","import { SpriteProps } from '../types'\nimport GameObject from './GameObject'\nimport { Sprite } from './Sprite'\nimport { Vec2D } from './Vec2D'\n\nexport enum EnemyType {\n  Zoraxx,\n  Mii\n}\n\nclass Enemy extends GameObject {\n  vel: Vec2D\n  age: number\n\n  constructor(ctx, pos, sprite: Sprite) {\n    super(ctx, pos, sprite, new Vec2D(16, 16))\n    this.age = Math.floor(Math.random() * 128)\n    this.pos.x = Math.round(\n      ctx.canvas.width / 4 + (Math.random() * ctx.canvas.width) / 2\n    )\n    this.vel = new Vec2D(0, 3)\n  }\n\n  explode() {\n    this.active = false\n  }\n\n  update() {\n    this.pos.x += this.vel.x\n    this.pos.y += this.vel.y / 2\n\n    this.vel.x = 3 * Math.sin((this.age * Math.PI) / 64)\n\n    this.age++\n\n    this.active = this.active && this.isBounds()\n  }\n}\n\nexport default Enemy\n","import { Sprite } from './Sprite'\nimport { Vec2D } from './Vec2D'\n\nexport default class FontRenderer {\n  image: HTMLImageElement\n\n  constructor(\n    public font: HTMLImageElement,\n    public fontsheet: any,\n    public position: Vec2D = new Vec2D(0, 0),\n    public size: Vec2D = new Vec2D(8, 8)\n  ) {}\n\n  private getPosition(name) {\n    const el = this.fontsheet[name] || [0, 0]\n    return new Vec2D(el[0], el[1])\n  }\n\n  drawText(ctx, message, position: Vec2D = new Vec2D(0, 0)) {\n    let xOffset: number = 0\n    let yOffset: number = 0\n\n    message.split('').forEach((char: string) => {\n      const pos = this.getPosition(char)\n      ctx.drawImage(\n        this.font,\n        pos.x,\n        pos.y,\n        this.size.x,\n        this.size.y,\n        position.x + this.position.x + xOffset,\n        position.y + this.position.y,\n        this.size.x,\n        this.size.y\n      )\n      xOffset += this.size.x\n    })\n  }\n}\n","module.exports={A:[8,0],B:[16,0],C:[24,0],D:[32,0],E:[40,0],F:[48,0],G:[56,0],H:[64,0],I:[72,0],J:[80,0],K:[88,0],L:[96,0],M:[104,0],N:[112,0],O:[120,0],P:[0,8],Q:[8,8],R:[16,8],S:[24,8],T:[32,8],U:[40,8],V:[48,8],W:[56,8],X:[80,8],Y:[80,8],Z:[80,8],0:[0,16],1:[8,16],2:[16,16],3:[24,16],4:[32,16],5:[40,16],6:[48,16],7:[56,16],8:[64,16],9:[72,16]};","module.exports={player:[0,0],enemy:[16,0]};","module.exports={0:[0,0],1:[16,0]};","import { Vec2D } from './Vec2D'\n\nexport class Sprite {\n  img: HTMLImageElement\n  canvas: HTMLCanvasElement\n  ctx: CanvasRenderingContext2D\n  // sprite: HTMLImageElement\n\n  constructor(\n    public image,\n    public name,\n    public spritesheet,\n    public size: Vec2D = new Vec2D(16, 16)\n  ) {\n    this.canvas = document.createElement('canvas')\n\n    console.log(this.image)\n\n    // Set canvas size\n    this.canvas.width = this.size.x\n    this.canvas.height = this.size.y\n\n    // Get context\n    this.ctx = this.canvas.getContext('2d')\n\n    const pos = this.getPosition()\n    // Draw image on the canvas\n    this.ctx.drawImage(\n      this.image,\n      pos.x,\n      pos.y,\n      this.size.x,\n      this.size.y,\n      0,\n      0,\n      this.size.x,\n      this.size.y\n    )\n\n    this.sprite = this.canvas\n  }\n\n  private getPosition() {\n    const el = this.spritesheet[this.name] || [0, 0]\n    return new Vec2D(el[0], el[1])\n  }\n}\n","import { Vec2D } from './Vec2D'\n\nexport class Level {\n  constructor(tileset, tilesetJson, level) {\n    this.levelmap = level.map\n    this.tilesetJson = tilesetJson\n    this.image = tileset\n\n    this.pos = new Vec2D(0, 0)\n    this.size = new Vec2D(16, 16)\n    this.vel = new Vec2D(0, 0)\n    this.width = this.size.x * 16\n    this.height = this.size.y * 16\n\n    this.speed = 5\n    console.log(level)\n  }\n\n  update() {\n    this.pos.set(\n      this.pos.x + this.vel.x * this.speed,\n      this.pos.y + this.vel.y * this.speed\n    )\n  }\n\n  moveUp() {\n    this.vel.set(this.vel.x, 1)\n  }\n  moveRight() {\n    this.vel.set(-1, this.vel.y)\n  }\n\n  moveDown() {\n    this.vel.set(this.vel.x, -1)\n  }\n  moveLeft() {\n    this.vel.set(1, this.vel.y)\n  }\n  stop(d) {\n    this.vel[d] = 0\n  }\n  private getPosition(name) {\n    const el = this.tilesetJson[name] || [0, 0]\n    return new Vec2D(el[0], el[1])\n  }\n\n  draw(ctx) {\n    this.levelmap.map((x, i) => {\n      x.map((y, j) => {\n        const tile = y === 0 ? 'lightgray' : 'gray'\n        const pos = this.getPosition(y.toString())\n        ctx.fillStyle = tile\n        ctx.fillRect(\n          this.pos.x + this.size.x * j,\n          this.pos.y + this.size.y * i,\n          this.size.x,\n          this.size.y\n        )\n        ctx.drawImage(\n          this.image,\n          pos.x,\n          pos.y,\n          this.size.x,\n          this.size.y,\n          this.pos.x + this.size.x * j,\n          this.pos.y + this.size.y * i,\n          this.size.x,\n          this.size.y\n        )\n      })\n    })\n  }\n}\n","export class AssetLoader {\n  constructor(private toLoad: number = 0, private loaded: number = 0) {}\n\n  load(assets) {\n    const imageExt = ['png']\n    const jsonExt = ['json']\n\n    this.toLoad = assets.length\n    return new Promise((resolve) => {\n      assets.forEach((asset) => {\n        const extension = asset.split('.').pop()\n\n        if (imageExt.includes(extension)) {\n          this.loadImage(asset, resolve)\n        } else if (jsonExt.includes(extension)) {\n          this.loadJson(asset, resolve)\n        }\n      })\n    })\n  }\n\n  loadHandler(resolve) {\n    this.loaded += 1\n    if (this.loaded === this.toLoad) {\n      this.loaded = 0\n      this.toLoad = 0\n      resolve(this)\n    }\n  }\n\n  loadImage(src, resolve) {\n    const image = new Image()\n    image.src = src\n    image.addEventListener(\n      'load',\n      () => {\n        this.loadHandler(resolve)\n      },\n      false\n    )\n    const name = src.split('/').pop().split('.')[0]\n    this[name] = image\n  }\n\n  async loadJson(src, resolve) {\n    try {\n      const response: Response = await fetch(src)\n      const data: any = await response\n      this.loadHandler(resolve)\n\n      const name = src.split('/').pop().split('.')[0]\n      this[name] = data\n    } catch (error) {}\n  }\n}\n","import Background from './Background'\nimport Player from './Player'\nimport UI from './UI'\nimport Screen from './Screen'\nimport Enemy from './Enemy'\nimport FontRenderer from './FontRenderer'\nimport { GameConfigProps } from '../types'\nimport { checkBoundsCollide } from '../helpers'\nimport { EnemyType } from './Enemy'\n\nimport font from '../images/font.png'\nimport fontsheet from '../images/font.json'\n\nimport sprite from '../images/spritesheet.png'\nimport spritejson from '../images/spritesheet.json'\n\nimport tileset from '../images/tileset.png'\nimport tilesetJson from '../images/tileset.json'\n\nimport config from '../config.json'\n\nimport { Vec2D } from './Vec2D'\nimport { Sprite } from './Sprite'\nimport { Level } from './Level'\n\nimport { assets } from '../helpers'\nimport { AssetLoader } from './AssetLoader'\n\nconst level = {\n  // prettier-ignore\n  map: [\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n    [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n    [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\n  ]\n}\n\nconst interval = (cb) => setInterval(cb, 1000)\nconst count = 0\n\nexport default class Game {\n  screen: Screen\n  level: any\n  ui: HTMLDivElement\n  enemies: Enemy[]\n  score: number\n  bg: any\n  player: Player\n  fontRenderer: FontRenderer\n  sprite: HTMLImageElement\n  loaded: number\n  tileset: HTMLImageElement\n  playerSpeed: number\n\n  font: HTMLImageElement\n\n  constructor(private config: GameConfigProps) {\n    this.ui = document.createElement('div')\n    this.screen = new Screen(new Vec2D(this.config.width, this.config.height))\n    this.ui.className = 'ui'\n    this.enemies = []\n    this.score = 0\n    this.bg = new Background()\n    this.playerSpeed = 3\n\n    this.assets = null\n    this.loaded = false\n\n    this.player = null\n    this.fontRenderer = null\n    this.level = null\n\n    new AssetLoader().load([font, tileset, sprite]).then((assets) => this.setup(assets))\n\n    console.log(this)\n  }\n\n  setup(assets) {\n    this.assets = assets\n    this.loaded = true\n\n    this.player = new Player(\n      this.screen.ctx,\n      new Vec2D(this.screen.size.x / 2, this.screen.size.y - 48),\n      new Sprite(this.assets.spritesheet, 'player', spritejson, new Vec2D(16, 16)).sprite,\n      this.playerSpeed\n    )\n\n    this.initKeyboardController()\n\n    this.level = new Level(this.assets.tileset, tilesetJson, level)\n    this.fontRenderer = new FontRenderer(this.assets.font, fontsheet, new Vec2D(8, 8))\n  }\n\n  initKeyboardController() {\n    const onKeyDown = (e) => {\n      const { code } = e\n\n      switch (code) {\n        case 'KeyD':\n          this.level.moveRight()\n          this.bg.vel.set(-1, this.bg.vel.y)\n          break\n        case 'KeyW':\n          this.level.moveUp()\n          this.bg.vel.set(this.bg.vel.x, 1)\n          break\n        case 'KeyS':\n          this.level.moveDown()\n          this.bg.vel.set(this.bg.vel.x, -1)\n          break\n        case 'KeyA':\n          this.level.moveLeft()\n          this.bg.vel.set(1, this.bg.vel.y)\n          break\n        case 'Space':\n          this.player.shoot()\n          break\n        default:\n        //\n      }\n    }\n\n    const onKeyUp = (e) => {\n      const { code } = e\n\n      switch (code) {\n        case 'KeyD':\n          this.level.stop('x')\n          this.bg.stop('x')\n          break\n        case 'KeyW':\n          this.level.stop('y')\n          this.bg.stop('y')\n          break\n        case 'KeyS':\n          this.level.stop('y')\n          this.bg.stop('y')\n          break\n        case 'KeyA':\n          this.level.stop('x')\n          this.bg.stop('x')\n          break\n        default:\n        //\n      }\n    }\n\n    window.addEventListener('keydown', onKeyDown)\n    window.addEventListener('keyup', onKeyUp)\n  }\n\n  init() {\n    this.initKeyboardController()\n    this.screen.mount()\n    this.run()\n  }\n\n  isCollide(a, b) {\n    return (\n      a.pos.x < b.pos.x + b.size.x &&\n      a.pos.x + a.size.x > b.pos.x &&\n      a.pos.y < b.pos.y + b.size.y &&\n      a.pos.y + a.size.y > b.pos.y\n    )\n  }\n\n  handleCollision() {\n    this.player.playerBullets.map((bullet) => {\n      this.enemies.map((enemy) => {\n        if (this.isCollide(bullet, enemy)) {\n          enemy.explode()\n          this.score += 100\n          bullet.active = false\n        }\n      })\n    })\n\n    this.enemies.map((enemy) => {\n      if (this.isCollide(enemy, this.player)) {\n        enemy.explode()\n        this.player.explode()\n      }\n    })\n  }\n\n  draw(screen) {\n    screen.clear()\n\n    // this.fontRenderer.drawText(screen.ctx, 'A')\n    this.level.draw(screen.ctx)\n    this.bg.draw(screen.ctx)\n    this.player.draw(screen.ctx)\n\n    this.enemies.map((enemy) => {\n      enemy.draw(screen.ctx)\n    })\n\n    this.player.playerBullets.map((bullet) => {\n      bullet.draw(screen.ctx)\n    })\n\n    this.fontRenderer.drawText(screen.ctx, `SCORE ${this.score.toString()}`, new Vec2D(8, 8))\n  }\n\n  update() {\n    this.level.update()\n    this.player.update()\n    // Screen collision\n    if (this.player.pos.x + this.player.size.x > this.screen.size.x) {\n      this.player.pos.x = this.screen.size.x - this.player.size.x\n    }\n    if (this.player.pos.x < 0) {\n      this.player.pos.x = 0\n    }\n    if (this.player.pos.y + this.player.size.y > this.screen.size.y) {\n      this.player.pos.y = this.screen.size.x - this.player.size.y\n    }\n    if (this.player.pos.y < 0) {\n      this.player.pos.y = 0\n    }\n\n    this.ui.textContent = this.score.toString()\n\n    this.handleCollision()\n\n    this.player.playerBullets.map((bullet) => {\n      if (!checkBoundsCollide(bullet)) {\n        bullet.active = false\n      } else {\n        bullet.update()\n      }\n    })\n\n    this.enemies.map((enemy) => enemy.update())\n\n    this.bg.update()\n\n    this.enemies = this.enemies.filter((enemy) => enemy.active)\n    this.player.playerBullets = this.player.playerBullets.filter((bullet) => bullet.active)\n\n    if (Math.round(Math.random() * 90) == 1) {\n      this.enemies.push(\n        new Enemy(\n          this.screen.ctx,\n          { x: 0, y: 0 },\n          new Sprite(this.assets.spritesheet, 'enemy', spritejson, new Vec2D(16, 16)).sprite\n        )\n      )\n    }\n  }\n\n  run() {\n    if (this.loaded) {\n      this.draw(this.screen)\n      this.update()\n    }\n\n    requestAnimationFrame(() => this.run())\n  }\n}\n","import Game from './modules/Game'\nimport { GameConfigProps, GameProps } from './types'\nimport config from './config.json'\n\nconst game: Game = new Game(config)\n\ngame.init()\n"]}