{"version":3,"sources":["config.json","helpers/index.ts","modules/Vec2.ts","modules/Background.ts","modules/GameObject.ts","modules/Bullet.ts","modules/Player.ts","modules/Screen.ts","modules/Enemy.ts","modules/Game.ts","index.ts"],"names":["module","exports","width","height","title"],"mappings":"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","file":"src.159c0a2d.js","sourceRoot":"../src","sourcesContent":["module.exports={width:255,height:240,title:\"SpaceShooter\"};","import config from '../config.json'\n\nconst screen = {\n  size: {\n    x: config.width,\n    y: config.height\n  }\n}\n\nexport function checkBoundsCollide(obj, boundBox = screen) {\n  return obj.pos.x >= 0 && obj.pos.x <= boundBox.size.x && obj.pos.y >= 0 && obj.pos.y <= boundBox.size.y\n}\n","export class Vec2 {\n  constructor(public x: number, public y: number) {}\n\n  set(x, y) {\n    this.x = x\n    this.y = y\n  }\n}\n","import { checkBoundsCollide } from '../helpers'\nimport { Vec2 } from './Vec2'\n\nclass Star {\n  public active: boolean\n  vel: Vec2\n  color: string\n\n  constructor(public pos: Vec2, public speed: number = 1, public size) {\n    this.active = true\n    this.vel = new Vec2(0, 1)\n    this.color = `rgba(255, 255, 255, ${this.speed / 2})`\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color\n    const circle = new Path2D()\n    circle.arc(this.pos.x, this.pos.y, this.size.x, 0, 2 * Math.PI)\n\n    ctx.fill(circle)\n  }\n\n  update() {\n    this.pos.y += this.vel.y * this.speed\n    this.active = this.active && checkBoundsCollide(this)\n  }\n}\n\nexport default class Background {\n  color: string\n  stars: any[]\n  constructor() {\n    this.color = 'black'\n    this.stars = []\n  }\n\n  drawStars(ctx) {\n    const random = Math.floor(Math.random() * Math.floor(10))\n    const speed = random\n    const size = new Vec2(2 / speed, 5 / speed)\n    const position = new Vec2(Math.floor(Math.random() * ctx.canvas.width), 0)\n\n    if (Math.round(Math.random() * 5) === 1) {\n      this.stars.push(new Star(position, speed, size))\n    }\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n\n    this.drawStars(ctx)\n    this.stars.map((star) => {\n      star.draw(ctx)\n    })\n  }\n\n  update() {\n    this.stars.map((star) => {\n      star.update()\n    })\n\n    this.stars = this.stars.filter((star) => star.active)\n  }\n}\n","import { PersonProps, Vec2Props } from '../types'\nimport { Vec2 } from './Vec2'\n\nexport default class GameObject {\n  active: boolean\n  canvas: HTMLCanvasElement\n  image: HTMLImageElement\n  vel: Vec2\n\n  constructor(\n    public ctx: CanvasRenderingContext2D,\n    public pos: Vec2,\n    public imageSrc: string,\n    public size: Vec2 = new Vec2(16, 16)\n  ) {\n    this.canvas = ctx.canvas\n    this.image = new Image()\n    this.image.src = imageSrc\n    this.pos = new Vec2(pos.x, pos.y)\n    this.active = true\n\n    console.log(imageSrc)\n  }\n\n  isBounds() {\n    return this.pos.x >= 0 && this.pos.x <= this.canvas.width && this.pos.y >= 0 && this.pos.y <= this.canvas.height\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.image, this.pos.x, this.pos.y, this.size.x, this.size.y)\n  }\n\n  explode() {\n    this.active = false\n  }\n\n  update() {\n    this.pos.x += this.vel.x\n    this.pos.y += this.vel.y / 2\n  }\n}\n","import { Vec2 } from './Vec2'\n\nexport default class Bullet {\n  public active: boolean\n  pos: Vec2\n  size: Vec2\n  vel: Vec2\n\n  constructor(x, y) {\n    this.active = true\n    this.pos = new Vec2(x, y)\n    this.size = new Vec2(1, 3)\n    this.vel = new Vec2(0, -5)\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = 'orange'\n    ctx.fillRect(this.pos.x, this.pos.y, this.size.x, this.size.y + 3)\n  }\n\n  update() {\n    this.pos.x += this.vel.x\n    this.pos.y += this.vel.y\n  }\n}\n","import GameObject from './GameObject'\nimport Bullet from './Bullet'\nimport { Vec2 } from './Vec2'\n\nclass Player extends GameObject {\n  color: string\n  width: number\n  height: number\n  active: boolean\n  playerBullets: any[]\n  vel: Vec2\n\n  constructor(public ctx: CanvasRenderingContext2D, public pos: Vec2, public imageSrc: string) {\n    super(ctx, pos, imageSrc, new Vec2(16, 16))\n    this.color = 'blue'\n    this.width = 21\n    this.height = 21\n    this.active = true\n    this.playerBullets = []\n    this.vel = new Vec2(0, 0)\n  }\n\n  // Bullet starts in the center of the player\n  moveToMidpoint() {\n    return {\n      x: this.pos.x + this.size.x / 2,\n      y: this.pos.y\n    }\n  }\n\n  shoot() {\n    let bulletPosition = this.moveToMidpoint()\n\n    this.playerBullets.push(new Bullet(bulletPosition.x, bulletPosition.y))\n  }\n\n  explode() {\n    this.active = false\n  }\n\n  update() {\n    this.pos.x += this.vel.x\n    this.pos.y += this.vel.y\n  }\n}\n\nexport default Player\n","import { ScreenProps, SizeProps } from '../types'\nimport { Vec2 } from './Vec2'\n\nexport default class Screen implements ScreenProps {\n  canvas: HTMLCanvasElement\n  ctx: CanvasRenderingContext2D\n  size: Vec2\n\n  constructor(size: Vec2) {\n    this.canvas = document.createElement('canvas')\n    this.ctx = this.canvas.getContext('2d')\n    this.size = new Vec2(size.x, size.y)\n    this.canvas.width = this.size.x\n    this.canvas.height = this.size.y\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.size.x, this.size.y)\n  }\n\n  mount() {\n    const container: HTMLDivElement = document.createElement('div')\n    container.setAttribute('id', 'screen')\n    container.append(this.canvas)\n    document.body.append(container)\n  }\n}\n","import GameObject from './GameObject'\nimport { Vec2 } from './Vec2'\n\nclass Enemy extends GameObject {\n  vel: Vec2\n  age: number\n\n  constructor(ctx, pos, imageSrc) {\n    super(ctx, pos, imageSrc, new Vec2(16, 16))\n    this.image = new Image()\n    this.image.src = imageSrc\n    this.age = Math.floor(Math.random() * 128)\n    this.pos.x = Math.round(ctx.canvas.width / 4 + (Math.random() * ctx.canvas.width) / 2)\n    this.vel = new Vec2(0, 3)\n  }\n\n  explode() {\n    this.active = false\n  }\n\n  update() {\n    this.pos.x += this.vel.x\n    this.pos.y += this.vel.y / 2\n\n    this.vel.x = 3 * Math.sin((this.age * Math.PI) / 64)\n\n    this.age++\n\n    this.active = this.active && this.isBounds()\n  }\n}\n\nexport default Enemy\n","import Background from './Background'\nimport Player from './Player'\nimport UI from './UI'\nimport Screen from './Screen'\nimport Enemy from './Enemy'\nimport { GameConfigProps } from '../types'\nimport { checkBoundsCollide } from '../helpers'\n\nimport playerSrc from '../images/player.png'\nimport enemySrc from '../images/enemy.png'\n\nconst level = {}\n\nexport default class Game {\n  screen: Screen\n  level: any\n  ui: HTMLDivElement\n  enemies: Enemy[]\n  score: number\n  bg: any\n  player: Player\n\n  constructor(private config: GameConfigProps) {\n    this.level = level\n    this.ui = document.createElement('div')\n    this.screen = new Screen({ x: config.width, y: config.height })\n    this.ui.className = 'ui'\n    this.initKeyboardController()\n    this.enemies = []\n    this.score = 0\n    this.bg = new Background()\n    this.player = new Player(this.screen.ctx, { x: this.screen.size.x / 2, y: this.screen.size.y - 48 }, playerSrc)\n  }\n\n  initKeyboardController() {\n    document.addEventListener('keydown', (event) => {\n      switch (event.keyCode) {\n        case 87: // w\n          this.player.pos.y -= 8\n          break\n        case 65: // a\n          this.player.pos.x -= 8\n          break\n        case 83: // s\n          this.player.pos.y += 8\n          break\n        case 68: // d\n          this.player.pos.x += 8\n          break\n        case 32: // space\n          this.player.shoot()\n          break\n      }\n    })\n  }\n\n  init() {\n    this.initKeyboardController()\n    this.screen.mount()\n    this.run()\n  }\n\n  isCollide(a, b) {\n    return (\n      a.pos.x < b.pos.x + b.size.x &&\n      a.pos.x + a.size.x > b.pos.x &&\n      a.pos.y < b.pos.y + b.size.y &&\n      a.pos.y + a.size.y > b.pos.y\n    )\n  }\n\n  handleCollision() {\n    this.player.playerBullets.map((bullet) => {\n      this.enemies.map((enemy) => {\n        if (this.isCollide(bullet, enemy)) {\n          enemy.explode()\n          this.score += 100\n          bullet.active = false\n        }\n      })\n    })\n\n    this.enemies.map((enemy) => {\n      if (this.isCollide(enemy, this.player)) {\n        enemy.explode()\n        this.player.explode()\n      }\n    })\n  }\n\n  draw(screen) {\n    screen.clear()\n    this.bg.draw(screen.ctx)\n    this.player.draw(screen.ctx)\n\n    this.enemies.map((enemy) => {\n      enemy.draw(screen.ctx)\n    })\n\n    this.player.playerBullets.map((bullet) => {\n      bullet.draw(screen.ctx)\n    })\n  }\n\n  update() {\n    // Screen collision\n    if (this.player.pos.x + this.player.size.x > this.screen.size.x) {\n      this.player.pos.x = this.screen.size.x - this.player.size.x\n    }\n    if (this.player.pos.x < 0) {\n      this.player.pos.x = 0\n    }\n    if (this.player.pos.y + this.player.size.y > this.screen.size.y) {\n      this.player.pos.y = this.screen.size.x - this.player.size.y\n    }\n    if (this.player.pos.y < 0) {\n      this.player.pos.y = 0\n    }\n\n    this.ui.textContent = this.score.toString()\n\n    this.handleCollision()\n\n    this.player.playerBullets.map((bullet) => {\n      if (!checkBoundsCollide(bullet)) {\n        bullet.active = false\n      } else {\n        bullet.update()\n      }\n    })\n\n    this.enemies.map((enemy) => enemy.update())\n\n    this.bg.update()\n\n    this.enemies = this.enemies.filter((enemy) => enemy.active)\n    this.player.playerBullets = this.player.playerBullets.filter((bullet) => bullet.active)\n\n    if (Math.round(Math.random() * 90) == 1) {\n      this.enemies.push(new Enemy(this.screen.ctx, { x: 0, y: 0 }, enemySrc))\n    }\n  }\n\n  run() {\n    this.draw(this.screen)\n    this.update()\n\n    requestAnimationFrame(() => this.run())\n  }\n}\n","import Game from './modules/Game'\nimport { GameConfigProps, GameProps } from './types'\nimport config from './config.json'\n\nconst game: Game = new Game(config)\n\ngame.init()\n"]}